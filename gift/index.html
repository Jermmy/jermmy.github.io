<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/swiper-3.4.2.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/global.min.css">

    <script src="../js/gift/jquery-3.3.1.min.js"></script>
    <script src="../js/gift/swiper-3.4.2.min.js"></script>
    <script src="../js/gift/swiper.animate1.0.2.min.js"></script>
    <script src="../js/gift/jquery.firefly-0.7.min.js"></script>
    <script src="../js/gift/mobile-detect.min.js"></script>
    <!-- <script src="scripts/TweenMax.min.js"></script> -->
</head>

<body>
	<iframe src="music/250-milliseconds-of-silence.mp3" allow="autoplay" id="audio" style="display:none"></iframe>
    <span id="musicControl">
		<a id="mc_play" class="on" onclick="play_music();">
			<audio id="music" loop="loop" autoplay="autoplay">
				<source src="music/孙燕姿 - 遇见.mp3" type="audio/mp3">
			</audio>
		</a>
	</span>

    <aside id="loading">
        <div id="fountainTextG">
            <div id="fountainTextG_1" class="fountainTextG">
                L</div>
            <div id="fountainTextG_2" class="fountainTextG">
                o</div>
            <div id="fountainTextG_3" class="fountainTextG">
                a</div>
            <div id="fountainTextG_4" class="fountainTextG">
                d</div>
            <div id="fountainTextG_5" class="fountainTextG">
                i</div>
            <div id="fountainTextG_6" class="fountainTextG">
                n</div>
            <div id="fountainTextG_7" class="fountainTextG">
                g</div>
            <div id="fountainTextG_8" class="fountainTextG">
                .</div>
            <div id="fountainTextG_9" class="fountainTextG">
                .</div>
            <div id="fountainTextG_10" class="fountainTextG">
                .</div>
        </div>
    </aside>

    <section class="swiper-container" ,="" style="opacity: 0">
        <div class="snow-container"></div>
        <div class="swiper-wrapper">
            
            <article class="swiper-slide swiper-slide1" data-hash="page1">
                <h3 class="text text1 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s">好</h3>
                <h3 class="text text2 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.8s">久</h3>
                <h3 class="text text3 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.1s">不</h3>
                <h3 class="text text4 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.4s">见</h3>
<!--                 <h3 class="text5 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="1.7s">了</h3> -->
                <h3 class="text text6 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="2s"><strong>小</strong></h3>
                <h3 class="text text7 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="2.3s"><strong>雪</strong></h3>
                <h3 class="text text8 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="2.6s"><strong>人</strong></h3>
                <h3 class="text text9 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="3s">为你构造这片雪花</h3>
                <h3 class="text text10 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="4.5s">是想延续未来的童话</h3>
            </article>

            <article class="swiper-slide swiper-slide2" data-hash="page2">
                <h3 class="text1 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="0.5s">你说你喜欢下雪的季节</h3>
                <h3 class="text2 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="1.5s">我说你喜欢拥抱的感觉</h3>
                <h3 class="text3 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="2s" swiper-animate-delay="2.5s"><strong>“喜欢你才抱你呀”</strong></h3>
            </article>

            <article class="swiper-slide swiper-slide3" data-hash="page3">
                <h3 class="text1 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="0.5s">最怕你生气的时候</h3>
                <h3 class="text2 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="1.5s">像一朵高贵冷艳的玫瑰</h3>
                <h3 class="text3 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="2.5s">只能小心翼翼地呵护</h3>
                
                <img src="img/p3-mobile-2.png" class="img2 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1s" swiper-animate-delay="5s">

                <h3 class="text4 ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="6s">快乐的时候</h3>
                <h3 class="text5 ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="7s">又变成一只活泼开放的小狐狸</h3>
                <h3 class="text6 ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="8s">会依偎在你身旁看星星</h3>
                <h3 class="text7 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="9s">“驯服”是两个人的事情</h3>
            </article>

            <article class="swiper-slide swiper-slide4" data-hash="page4">
                <h3 class="text1 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="0.5s">多年后的相遇</h3>
                <h3 class="text2 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="1.5s">这中间的距离</h3>
                <h3 class="text3 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="2.5s">只有时间看得见</h3>
                <h3 class="text4 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="4s">想你的每个瞬间</h3>
                <h3 class="text5 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="5.5s">像飞驰而过的地铁</h3>
                <img src="img/boy.png" class="boy">
                <img src="img/girl.png" class="girl">
                <div class="train">
                    <div class="train-car head-car">
                        <div class="windows">
                            <div class="head-car-window"></div>
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                        <div class="door"></div>
                    </div>

                    <div class="train-car">
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                        <div class="door"></div>
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                    </div>

                    <div class="train-car">
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                        <div class="door"></div>
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                    </div>

                    <div class="train-car">
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                        <div class="door"></div>
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                    </div>

                    <div class="train-car">
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                        <div class="door"></div>
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                        </div>
                    </div>

                    <div class="train-car end-car">
                        <div class="door"></div>
                        <div class="windows">
                            <div class="w-left"></div>
                            <div class="w-right"></div>
                            <div class="end-car-window"></div>
                        </div>

                    </div>
                </div>

            </article>

            <article class="swiper-slide swiper-slide6" data-hash="page6">
                <canvas id="fireworks"></canvas>
                <h3 class="text1 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="0.5s">还记得那晚的江边</h3>
                <h3 class="text2 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="1.5s">夜空正好</h3>
                <h3 class="text3 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="2.5s">天上的烟花太少</h3>
                <h3 class="text4 ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="1s" swiper-animate-delay="3.5s">因为它开在心底</h3>
                <div class="container">
                    <div class="moon"></div>
                    <div class="cloud-container">
                        <div class="cloud"></div>
                        <div class="cloud"></div>
                        <div class="cloud"></div>
                        <div class="cloud"></div>
                        <div class="cloud"></div>
                    </div>
                    <!--end .cloud-container-->

                    <div class="stars">
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                        <div class="star"></div>
                    </div>
                </div>
                <img src="img/hand-in-hand.png" class="hand">

            </article>

            <article class="swiper-slide swiper-slide7" data-hash="page7">
                <div id="firefly"></div>
                <img src="img/hug.png" class="hug">
                <h3 class="text text1 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="0.5s">想</h3>
                <h3 class="text text2 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="0.9s">无</h3>
                <h3 class="text text3 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="1.3s">条</h3>
                <h3 class="text text4 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="1.7s">件</h3>
                <h3 class="text text5 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="2.1s">爱</h3>
                <h3 class="text text6 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="2.5s">你</h3>
                <h3 class="text text7 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="2.9s">是</h3>
                <h3 class="text text8 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="3.3s">一</h3>
                <h3 class="text text9 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="3.7s">辈</h3>
                <h3 class="text text10 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="4.1s">子</h3>
                <h3 class="text text11 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="4.5s">的</h3>
                <h3 class="text text12 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="4.9s">事</h3>
                <h3 class="text text13 ani" swiper-animate-effect="fadeIn" swiper-animate-duration="1.5s" swiper-animate-delay="5.3s">情</h3>
            </article>
        </div>
    </section>


        <a href="#">
        	<img src="img/bottom.png" class="bottom">
        </a>
    <!-- </div> -->
    <script>
    $(document).ready(function(){

        //判断数组中是否包含某字符串
        Array.prototype.contains = function(needle) {
            for (i in this) {
                if (this[i].indexOf(needle) > 0)
                    return i;
            }
            return -1;
        }
     
        var device_type = navigator.userAgent;//获取userAgent信息
        
        var md = new MobileDetect(device_type);//初始化mobile-detect
        var os = md.os();//获取系统
        var model = "";
        if (os == "iOS") {//ios系统的处理
            os = md.os() + md.version("iPhone");
            model = md.mobile();
        } else if (os == "AndroidOS") {//Android系统的处理
            os = md.os() + md.version("Android");
            var sss = device_type.split(";");
            var i = sss.contains("Build/");
            if (i > -1) {
                model = sss[i].substring(0, sss[i].indexOf("Build/"));
            }
        }

        // window.alert(model);
        var mySwiper = new Swiper('.swiper-container', {
            direction: 'vertical',
            loop: false,
            speed: 500,

            onInit: function(swiper) {
                setTimeout(function(){
                    $("#loading").remove();
                    $(".swiper-container").css({"opacity":"1"});
                    swiperAnimateCache(swiper);
                    swiperAnimate(swiper);
                }, 1000);
            },
            onSlideChangeEnd: function(swiper){
                swiperAnimate(swiper);
            },
            onTransitionStart: function(swiper){
                if (swiper.activeIndex == 0 || swiper.activeIndex == 1 ||
                    swiper.activeIndex == 3) {
                    $(".snow-container").css({"opacity":"1"});
                } else {
                    $(".snow-container").css({"opacity":"0"});
                }
            },

            onTransitionEnd: function(swiper){
                swiperAnimate(swiper);
            }

        })
    });

    function play_music() {
        if (music.paused) {
            music.play();
            $('#mc_play').attr('class', 'on');
        } else {
            music.pause();
            $('#mc_play').attr('class', 'stop');
        }
    }
    </script>
    <script src="../js/gift/fire.js"></script>
    <script src="../js/gift/snow.js"></script>
    <!-- <script src='scripts/jquery.firefly-0.7.min.js'></script> -->
    <script>

    $.firefly({
        color: '#fff',
        minPixel: 1,
        maxPixel: 3,
        total : 65,
        on: '#firefly',
        borderRadius: 50
    });
    </script>
</body>

</html>